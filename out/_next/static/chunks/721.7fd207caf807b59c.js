(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{1721:function(e,t,s){"use strict";s.r(t);var a=s(1010),n=s(1309),r=s(4586),o=s(7582),c=s(5893),i=s(7294),h=s(7571),u=s.n(h);t.default=function(){var e,t=(0,n._)((0,i.useState)(!1),2),s=t[0],h=t[1],d=(0,n._)((0,i.useState)(!1),2),l=d[0],g=d[1],_=(0,n._)((0,i.useState)(""),2),m=_[0],p=_[1],C=(0,n._)((0,i.useState)([{id:1,text:"Hello! How can I help you today?",sender:"bot"}]),2),x=C[0],f=C[1],toggleChat=function(){h(!s)},j=(e=(0,a._)(function(e){var t,s,a,n,c;return(0,o.Jh)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),""===m.trim())return[2];t={id:Date.now(),text:m,sender:"user"},f(function(e){return(0,r._)(e).concat([t])}),p(""),g(!0),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,fetch("http://localhost:5678/webhook/chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:m})})];case 2:if(!(s=o.sent()).ok)throw Error("Failed to get response from server");return[4,s.json()];case 3:return a=o.sent(),n={id:Date.now()+1,text:a.reply,sender:"bot"},f(function(e){return(0,r._)(e).concat([n])}),[3,6];case 4:return console.error("Error sending message:",o.sent()),c={id:Date.now()+1,text:"Sorry, there was an error processing your message. Please try again.",sender:"bot"},f(function(e){return(0,r._)(e).concat([c])}),[3,6];case 5:return g(!1),[7];case 6:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,c.jsx)("div",{className:"".concat(u().chatWidget," ").concat(s?u().open:""),children:s?(0,c.jsxs)("div",{className:u().chatContainer,children:[(0,c.jsxs)("div",{className:u().chatHeader,children:[(0,c.jsx)("h3",{children:"Chat with us"}),(0,c.jsx)("button",{onClick:toggleChat,className:u().closeButton,children:"\xd7"})]}),(0,c.jsxs)("div",{className:u().messagesContainer,children:[x.map(function(e){return(0,c.jsx)("div",{className:"".concat(u().message," ").concat("user"===e.sender?u().userMessage:u().botMessage),children:e.text},e.id)}),l&&(0,c.jsxs)("div",{className:"".concat(u().message," ").concat(u().botMessage," ").concat(u().typingIndicator),children:[(0,c.jsx)("span",{}),(0,c.jsx)("span",{}),(0,c.jsx)("span",{})]})]}),(0,c.jsxs)("form",{onSubmit:j,className:u().messageForm,children:[(0,c.jsx)("input",{type:"text",value:m,onChange:function(e){return p(e.target.value)},placeholder:"Type your message...",className:u().messageInput}),(0,c.jsx)("button",{type:"submit",className:u().sendButton,children:"Send"})]})]}):(0,c.jsx)("button",{onClick:toggleChat,className:u().chatButton,children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})})}},7571:function(e){e.exports={chatWidget:"ChatWidget_chatWidget__2hMAg",chatButton:"ChatWidget_chatButton__y1pNx",chatContainer:"ChatWidget_chatContainer__j1xFa",chatHeader:"ChatWidget_chatHeader__tke6E",closeButton:"ChatWidget_closeButton__IBXft",messagesContainer:"ChatWidget_messagesContainer__zI7cX",message:"ChatWidget_message__F8n91",userMessage:"ChatWidget_userMessage__1hOtF",botMessage:"ChatWidget_botMessage__N9pb3",messageForm:"ChatWidget_messageForm___xKTK",messageInput:"ChatWidget_messageInput__MaC7n",sendButton:"ChatWidget_sendButton__fLUV3",open:"ChatWidget_open__sMHFf",slideUp:"ChatWidget_slideUp__jN8fb"}}}]);